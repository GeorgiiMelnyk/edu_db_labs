# Модель прецедентів

## Загальна схема

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

  actor "Користувач" as User
  actor "Редактор" as Editor
  actor "Адміністратор" as Admin
  
  Editor --u-|> User
  Admin --u-|> Editor
  
  usecase "<b>AccountManage</b>\nКерувати обліковим записом" as AccountManage
  usecase "<b>QuizSurvey</b>\nВзаємодія з опитуваннями" as QuizSurvey
  usecase "<b>QuizEdit</b>\nРедагувати опитування" as QuizEdit
  usecase "<b>ExpertManage</b>\nКерувати експертами" as ExpertManage
  usecase "<b>LaunchQuiz</b>\nЗапускати опитування" as LaunchQuiz
  usecase "<b>QuizAnalize</b>\nАналізувати результати\nопитування" as QuizAnalize
  usecase "<b>QuizManage</b>\nКерувати опитуваннями" as QuizManage
  usecase "<b>AccessManage</b>\nКерувати доступом" as AccessManage
 
  User -u-> AccountManage
  User -l-> QuizSurvey
  
  Editor -u-> ExpertManage
  Editor -l-> QuizAnalize
  Editor -r-> QuizEdit
  Editor -d-> LaunchQuiz
  
  Admin -r-> QuizManage
  Admin -l-> AccessManage

@enduml
  
</center>

## Схема використання для Адміністратора

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    actor "Адміністратор" as Admin
    
    usecase "<b>Register_User</b>\nРеєстрація" as Register
    usecase "<b>Login_User</b>\nВхід" as Login
    usecase "<b>Logout_User</b>\nВихід з облікового запису" as Logout
    usecase "<b>QuizManage</b>\nКерувати опитуваннями" as QuizManage
    usecase "<b>AccessManage</b>\nКерувати доступом" as AccessManage
    usecase "<b>Create_Quiz</b>\nСтворити опитування" as Create
    usecase "<b>Edit_Quiz</b>\nРедагувати опитування" as Edit
    usecase "<b>Delete_Quiz</b>\nВидалити опитування" as Delete
    usecase "<b>Share_Quiz</b>\nПоділитися опитуванням" as Share
    usecase "<b>Make_Editor</b>\nЗробити редактором" as MakeEditor
    usecase "<b>Remove_Quiz</b>\nЗабрати права редактора" as RemoveEditor
    
    Admin -d-> Register
    Admin -d-> Login
    Admin -d-> Logout
    Admin -u-> QuizManage
    Admin -u-> AccessManage
    QuizManage <.u. Create : Extends
    QuizManage <.r. Edit : Extends
    QuizManage <.u. Delete : Extends
    QuizManage <.d. Share : Extends
    AccessManage <.u. MakeEditor : Extends
    AccessManage <.u. RemoveEditor : Extends

@enduml

</center>

## Сценарії використання

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

  actor "Користувач" as User
  
  
  usecase "<b>AccountManage</b>\nКерувати обліковим записом" as AccountManage
  usecase "<b>QuizSurvey</b>\nВзаємодія з опитуваннями" as QuizSurvey
  usecase "<b>ViewingTheResult</b>\nПерегляд результатів" as ViewingTheResult
  usecase "<b>ViewingTheResult</b>\nПерегляд результатів" as ViewingTheResult
  
  User -u-> AccountManage
  User -l-> QuizSurvey
  ViewingTheResult .u.> QuizSurvey


@enduml

</center>

### Зареєструвати користувача

| ID: | **Register_User**                                                                                                                                                                                                                                                                             |
|:----|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Назва | Зареєструвати користувача                                                                                                                                                                                                                                                                     |
| Учасники | Система, користувач                                                                                                                                                                                                                                                                           |
| Передумови | Користувач незареєстрований                                                                                                                                                                                                                                                                   |
| Результат | Створено новий обліковий запис                                                                                                                                                                                                                                                                |
| Виключні ситуації | EX01.01 Обліковий запис вже існує<br> EX.01.02 Користував ввів хибні дані                                                                                                                                                                                                                     |
| Основний сценарій | 1. Користувач натискає на кнопку реєстрації <br> 2. Система відкриває форму для реєстрації <br> 3.Користувач вводить дані <br> 4. Користувач підтверджує дані (можлива EX.01.01, EX01.02)<br> 5. Система заносить дані користувача в базу даних <br> 6. Система створює новий обліковий запис |

@startuml

|Клієнт|
start;
:натискає на кнопку реєстрації;

|Система|
:Відкриває форму для реєстрації;

|Клієнт|
:Вводить дані для реєстрації;
:Підтверджує дані "Зареєструватися"
<font color="red"><b>EX01.01 Обліковий запис вже існує
<font color="red"><b>EX.01.02 Користував ввів хибні дані;

|Система|
:Заносить дані користувача в базу даних;
:Створює новий обліковий запис;

|Клієнт|
stop;
@enduml

### Вийти з облікового запису

| ID: | **Logout_User**                                                                                                            |
|:----|:---------------------------------------------------------------------------------------------------------------------------|
| **Назва** | Вийти з облікового запису                                                                                                  |
| **Учасники** | Система, користувач                                                                                                        |
| **Передумови** | Користувач зареєстрований, користувач увійшов в обліковий запис                                                            |
| **Результат** | Користувач вийшов з облікового запису                                                                                      |
| **Виключні ситуації** | Відсутні                                                                                                                   |
  
@startuml
  
|Користувач|
: \tНатискає кнопку\n"Вихід з облікового запису";

|Система|
: \tБлокує користувачу доступ\nдо особистого кабінету;

|Користувач|
stop;
  
@enduml



### Видалити обліковий запис користувача

| ID: | **Delete_User**                                                                                                                                                                |
|:----|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Назва** | Видалити обліковий запис користувача                                                                                                                                       |
| **Учасники** | Система, користувач                                                                                                                                                        |
| **Передумови** | Користувач зареєстрований                                                                                                                                                  |
| **Результат** | Обліковий запис користувача видалено                                                                                                                                       |
| **Виключні ситуації** | EX.04.01 Облікового запису користувача не існує    |
  
@startuml

|Користувач|
start;
: Заходить в особистий кабінет;
: Обирає налаштування профілю;
: \tНатискає кнопку\n"Видалити обліковий запис";

|Система|
: Система запитує підтвердження;

|Користувач|
: Підтверджує видалення облікового запису;

|Система|
: \tСистема дає запит видалення\nданих з бази даних <font color="red"><b>(можлива EX.04.01);
: Система видаляє обліковий запис;
  
|Користувач|
stop;
 
@enduml

### Створити опитування

| ID: | **Create_Quiz** |
|:----|:------------|
| **Назва** | Створити нове опитування |
| **Учасники** | Система, користувач |
| **Передумови** | Користувач зареєстрований і перебуває на особистій сторінці |
| **Результат** | Нове опитування |
| **Виключні ситуації** | EX05.01 Опитування порожнє |
| **Основний сценарій** | 1. Користувач переходить на особисту сторінку <br> 2. Користувач створює опитування <br> 3. Користувач зберігає опитування (можлива EX05.01) <br> 4. Система додає опитування до бази даних <br> 5. Користувач закінчує взаємодію |

@startuml

|Користувач|

    start
    : Переходить на особисту сторінку;
    : Обирає опцію "Створити нове опитування";
    : Натискає на кнопку "Створити";      

|Система|

    : Створює форму опитування;
    : Повертає форму опитування користувачу;

|Користувач|

    : Отримує форму опитування; 
    : Заповнює форму опитування;
    : Натискає на кнопку "Зберегти";

|Система|

    : Перевіряє форму;
    if (Форма порожня(EX05.01)) then (Так)
        : Повертає помилку;
  
    else (Ні)
        : Зберігає форму опитування;
        : Вносить опитування до бази даних;
        : Повертає повідомлення 
            "Форма успішно створена";
  
    endif

|Користувач|

    : Отримує повідомлення;
    : Закінчує взаємодію;

    stop;

@enduml

### Редагувати опитування

| ID: | **Edit_Quiz** |
|:----|:------------|
| **Назва** | Редагувати опитування |
| **Учасники** | Система, користувач |
| **Передумови** | Користувач має створене опитування |
| **Результат** | Внесені зміни до опитування |
| **Виключні ситуації** | EX06.01 Опитування порожнє <br> EX06.02 Користувач не вніс змін |
| **Основний сценарій** | 1. Користувач переходить на особисту сторінку <br> 2. Користувач редагує опитування <br> 3. Користувач зберігає опитування (можлива EX06.01, EX06.02) <br> 4. Система додає зміни до бази даних <br> 5. Користувач закінчує взаємодію |

@startuml

|Користувач|

    start
    : Переходить на особисту сторінку;
    : Обирає опитування;
    : Натискає на кнопку "Редагувати";      

|Система|

    : Повертає форму опитування з наявними даними користувачу;

|Користувач|

    : Отримує форму опитування;
    : Редагує форму опитування;
    : Натискає на кнопку "Зберегти";

|Система|

    : Перевіряє форму;
    if (Форма порожня(EX06.01)) then (Так)
        : Повертає помилку 
            "Форма порожня";
    else (Ні)
        if (Користувач не вніс змін (EX06.02)) then (Так)
            : Повертає помилку 
                "Користувач не вніс змін";

        else (Ні)
            : Зберігає відредаговану 
                форму опитування;
            : Вносить зміни до бази даних;
            : Повертає повідомлення 
                "Форма успішно відредагована";
        endif
    endif

|Користувач|
    : Отримує повідомлення;
    : Закінчує взаємодію;

    stop;

@enduml


### Видалити опитування

| ID: | **Delete_Quiz** |
|:----|:------------|
| **Назва** | Видалити опитування |
| **Учасники** | Система, користувач |
| **Передумови** | Користувач має створене опитування |
| **Результат** | Опитування видалене |
| **Виключні ситуації** | Відсутні |

@startuml
|Користувач|
start;
: Користувач переходить на особисту сторінку;
: Користувач видаляє опитування;

|Система|
: Система видаляє опитування з бази даних;

|Користувач|
: Користувач закінчує взаємодію;

|Користувач|
stop;
@enduml

### Поділитися опитуванням

| ID: | **Share_Quiz** |
|:----|:------------|
| **Назва** | Поділитися опитуванням |
| **Учасники** | Система, користувач |
| **Передумови** | Користувач має створене опитування |
| **Результат** | Опитування надіслано респондентам |
| **Виключні ситуації** | Відсутні |

@startuml

|Користувач|
start;
: Користувач переходить на особисту сторінку;
: Користувач обирає потрібне опитування;
: Користувач натискає кнопку "Поділитися опитуванням";
|Система|
: Система генерує посилання;

|Користувач|
: Користувач копіює посилання на опитування;
: Користувач надсилає опитування респондентам;
: Користувач закінчує взаємодію;
|Користувач|
stop;
@enduml

### Пройти опитування

| ID: | **Take_Quiz** |
|:----|:------------|
| **Назва** | Пройти опитування |
| **Учасники** | Система, користувач |
| **Передумови** | Користувач має посилання на опитування |
| **Результат** | Опитування пройдене|
| **Виключні ситуації** | ЕХ09.01 Посилання на опитування не є валідним |

@startuml

|Користувач|
start;
: Користувач переходить за посиланям
<font color="red"><b> ЕХ09.01;
: Користувач дає відповіді на поставлені питання;
: Користувач надсилає відповіді натиснувши кнопку "Надіслати";
|Система|
: Система записує відповіді до бази даних та надсилає результат;

|Користувач|
: Користувач закінчує взаємодію з системою;
|Користувач|
stop;
@enduml

### Переглянути результати опитування

| ID: | **Get_Results** |
|:----|:------------|
| **Назва** | Переглянути результати опитування |
| **Учасники** | Система, користувач |
| **Передумови** | Користувач зареєстрований і пройшов опитування |
| **Результат** | Переглянуто результат опитування |
| **Виключні ситуації** | ЕХ10.01 Посилання на опитування не є валідним |

@startuml

|Клієнт|
start;
:Переходить за посиланям на пройдене опитування;
:Посилання на опитування не є валідним
<font color="red"><b>ЕХ10.01;
:Натискає кнопку "Переглянути результат";

|Система|
:Показує результат опитування;

|Клієнт|
:Закінчує взаємодію з системою;
stop;

@enduml

### Надати права редактора

| ID: | **Make_Editor** |
|:----|:------------|
| **Назва** | Надати права редактора |
| **Учасники** | Система, користувач |
| **Передумови** | Користувач зареєстрований і перебуває на особистій сторінці, користувач створив опитування |
| **Результат** | Надано права редагування іншому користувачу |
| **Виключні ситуації** | ЕХ11.01 Користувача не знайдено |

@startuml

|Клієнт|
start;
:Власник опитування надсилає запит на користувача;
:Користувача не знайдено
<font color="red"><b>ЕХ11.01;

|Система|
:Показує користувача на якого був створений запит;

|Клієнт|
:Власник опитування обирає користувача;
:Власник опитування натискає кнопку "Надати права редагування";
:Користувач отримує права редагування;
:Власник опитування закінчує взаємодію з системою;

stop;

@enduml

### Забрати права редактора

| ID: | **Remove_Editor** |
|:----|:------------|
| **Назва** | Забрати права редактора |
| **Учасники** | Система, користувач |
| **Передумови** | Користувач зареєстрований і перебуває на особистій сторінці, користувач створив опитування |
| **Результат** | Відкликано права редагування іншого користувача |
| **Виключні ситуації** | ЕХ12.01 Користувача не знайдено |

@startuml

|Клієнт|
start;
:Власник опитування надсилає запит на користувача;
:Користувача не знайдено
<font color="red"><b>ЕХ11.01;

|Система|
:Показує користувача на якого був створений запит;

|Клієнт|
:Власник опитування обирає користувача;
:Власник опитування натискає кнопку "Надати права редагування";
:Користувач отримує права редагування;
:Власник опитування закінчує взаємодію з системою;

stop;

@enduml